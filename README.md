# 卓球プレーヤー成績管理システム

WordPressプラグインで構築された卓球プレーヤーの試合成績・対戦結果を管理・検索するシステムです。

## 機能

### 管理機能（WordPress管理画面）
- **選手管理**: 選手情報の登録・編集・削除
- **動画管理**: 選手ごとに複数の参考動画を登録
- **試合管理**: 試合情報の登録・編集・削除
- **試合参加者管理**: 試合の参加者と順位の登録
- **対戦結果管理**: 詳細な対戦結果の登録
- **データインポート**: CSV形式での一括データインポート

### フロントエンド機能（公開ページ）
- **トップページ**: 直近の試合結果とベスト16表示
- **選手検索**: 名前、性別、都道府県、戦術で検索
- **試合検索**: 試合名、日付で検索
- **対戦検索**: 2選手の直接対決を検索
- **選手詳細ページ**: プロフィール、動画、試合結果一覧
- **試合詳細ページ**: 試合情報、参加者順位、対戦結果
- **スマホ対応**: レスポンシブデザイン

## インストール方法

1. このプラグインフォルダをZIPファイルに圧縮
2. WordPress管理画面で「プラグイン」→「新規追加」→「プラグインのアップロード」
3. ZIPファイルを選択してアップロード
4. プラグインを有効化

または、

1. このフォルダを `/wp-content/plugins/` ディレクトリにアップロード
2. WordPress管理画面で「プラグイン」メニューからプラグインを有効化

## 使い方

### 1. データの登録

#### 選手を登録
1. 管理画面で「卓球成績」→「選手管理」を開く
2. 選手情報を入力（名前、ふりがな、性別、出身、戦術など）
3. 参考動画を追加（YouTube URLなど）
4. 保存

#### 試合を登録
1. 「卓球成績」→「試合管理」を開く
2. 試合情報を入力（試合名、日付、会場など）
3. 参加者と順位を登録
4. 保存

#### 対戦結果を登録
1. 「卓球成績」→「対戦結果」を開く
2. 試合を選択
3. 対戦カードとスコア（ゲーム数）を入力
4. 保存

### 2. 公開ページの設定

#### 固定ページを作成
1. 「固定ページ」→「新規追加」
2. 以下のショートコードを挿入:

**トップページ（最新試合一覧）**
```
[tt_stats_home]
```

**検索ページ**
```
[tt_stats_search]
```

**選手詳細ページ**
```
[tt_stats_player id="123"]
```

**試合詳細ページ**
```
[tt_stats_match id="456"]
```

3. ページを公開

### 3. CSVインポート（予定）

選手データや試合データをCSV形式で一括インポートできます。

**選手データCSV形式**
```csv
name,name_kana,gender,prefecture,tactics,tactics_detail
山田太郎,やまだたろう,male,東京都,right_shake,両ハンドドライブ主体
```

**試合・参加者データCSV形式**
```csv
match_name,match_date,venue,match_type,player_name,final_rank
2025年全日本選手権,2025-10-15,東京体育館,tournament,山田太郎,1
```

## データベース構造

### テーブル一覧
- `wp_tt_players` - 選手情報
- `wp_tt_player_videos` - 選手動画
- `wp_tt_matches` - 試合情報
- `wp_tt_match_participants` - 試合参加者・順位
- `wp_tt_match_results` - 対戦結果

### 順位の定義
- 1: 優勝
- 2: 準優勝
- 3-4: ベスト4
- 5-8: ベスト8
- 9-16: ベスト16
- 99: 予選敗退

### 戦術の種類
- `right_pen`: 右ペン
- `left_pen`: 左ペン
- `right_shake`: 右シェーク
- `left_shake`: 左シェーク
- `other`: その他

## 開発状況

### 完成済み ✅
- ✅ データベース設計・実装
- ✅ プラグイン基本構造
- ✅ 管理画面メニュー
- ✅ **選手CRUD機能（完全実装）**
  - 選手登録・編集・削除
  - 選手一覧・検索
  - 複数動画の追加・管理
  - プロフィール情報の管理
- ✅ **試合CRUD機能（完全実装）**
  - 試合登録・編集・削除
  - 試合一覧・検索
  - 参加者管理（順位登録）
- ✅ **対戦結果CRUD機能（完全実装）**
  - 対戦結果登録・編集・削除
  - 対戦結果一覧・フィルター
  - ゲームスコア記録
- ✅ フロントエンドテンプレート
- ✅ 検索機能（Ajax実装）
- ✅ スマホ対応レスポンシブデザイン

### 今後実装予定 ⏳
- ⏳ CSVインポート機能
- ⏳ データエクスポート機能
- ⏳ 統計・集計機能
- ⏳ バルクアクション（一括削除など）
- ⏳ 画像アップロード機能
- ⏳ 詳細な検索フィルター

## 技術仕様

- **WordPress**: 5.0以上
- **PHP**: 7.4以上推奨
- **MySQL**: 5.6以上
- **jQuery**: WordPress標準版

## ライセンス

GPL v2 or later

## 作者

Your Name

## サポート

質問や不具合報告は、以下までご連絡ください:
- Email: your-email@example.com

## 更新履歴

### Version 1.0.0 (2025-10-31)
- 初回リリース
- 基本機能の実装
- データベース設計・テーブル作成
- 選手CRUD機能（完全実装）
- 試合CRUD機能（完全実装）
- 対戦結果CRUD機能（完全実装）
- フロントエンド表示機能
- Ajax検索機能
- スマホ対応レスポンシブデザイン
